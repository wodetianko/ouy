<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlusÂ®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
 </head>
 <body>
 <style>
 *{
 margin:0;
 padding:0;
 }
 .stt{
  overflow:hidden;
  border-left:3px solid black;
border-right:3px solid black;
display:-webkit-box;
width:100%;
height:100vh;
background:url(img/yz.jpg);
background-size:100% 100%;
}
.c1{
position:absolute;
left:0;
top:0;
}
 .track{
 -webkit-box-flex:1;
 height:100%;
  margin-left:40%;
 margin-top:20px;
 border-right:20px dashed #0000ff;
 }
 .b1{
 position:absolute;
 left:50%;
 }
 .b2{
 position:absolute;
 left:-30%;
 }
 .last{
 border-right:0;
 }
 .car{
 position:absolute;
 left:50%;
bottom:0;
width:10%;
height:20%;
background:url(img/me.png);
background-size:100% 100%
}
.othercar{
width:10%;
height:20%;
background:url(img/plain2.png);
		background-size:100% 100%;
		position: absolute;
		left: 45%;
		top:0;
		}
  </style>
   <embed
  src="music/ctk.mp3"hidden="true"autosrart="true"loop="true">
 <body>
  <embed src="music/hd.mp3"hidden="true"autosrart="true"loop="true">
 </head>
  <div class="stt c1">
  <div class="track b1"></div>
  <div class="track b2"></div>
  <div class="track last"></div>
  <div class="car"></div>
 

  </div>
  <script src="js/jquery-1.12.3.min.js"></script>
  <script>
  function move() {
		$(".track").animate({"margin-top":"0"},500,"linear",function() {
        $(".track").css({"margin-top":"20px"});
        move();
		});
}
		move();
		var x=0;
var y=0;
document.onkeydown=function(evt) {
var k=evt.keyCode;
if(k==37)
	{
		x=x-3;
	}

	if(k==39)
	{
		x=x+3;
	}
	if(k==38)
	{
		y=y+1;
	}
	if(k==40)
	{
		y=y-1;
	}
if (k==34)
{
	xy=xy+1
}
if (x<10.5)
{
	x=10.5;
}
if (x>80)
{
	x=80;
}
if (y<0)
{
	y=0;
}
if(y>65)
{
	y=65;
}
	$(".car").css({
		"left":x+"%"
	});
		$(".car").css({
		"bottom":y+"%"
});

}
function createCar() {
var car=document.createElement("div");
car.className="othercar";
var x=10*parseInt(10*Math.random());
if (x<10.5)
{
	x=10.5;
}
if (x>80)
{
	x=80;
}
car.style.left=x+"%";
car.style.top="2px";
var ttt=setInterval(function(){
	var x=$(car).position().left;
	var y=$(car).position().top;
	x=parseInt(x);
	y=parseInt(y);
	//console.log(x);
	//console.log(y);
	if(y==0)
		{
			clearInterval(ttt);
		}
var myCarx=$(".car").position().left;
var myCary=$(".car").position().top;
myCarx=parseInt(myCarx);
myCary=parseInt(myCary);

console.log(Math.abs(x-myCarx));
if(Math.abs(x-myCarx)<500)
	{
var h=$(car).height();
h=parseInt(h);
if(y+h-3>=myCary && y<myCary)
		{
			alert("game over");
		}
	}
},10);
$(".stt").append(car);
$(car).animate({
	"top":"100%"
},2000,function(){
	$(car).remove();
});
}
setInterval(createCar,300);
</script>
<div>
  </body>
</html>
